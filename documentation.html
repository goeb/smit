<!DOCTYPE html>
<html>
    <head>
        <title>Documentation</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    </head>

    <body>
        <div class="header">
            <img src="logo.png" alt="Logo" width="150">
            <span class="header_text">The Small Issue Tracker</span>
        </div>
        <div class="page">
<aside class='menu'>
<ul>
<li><a href='index.html'>Smit Overview</a></li>
<li><a href='getting_started.html'>Getting Started</a></li>
<li><a href='screenshots.html'>Screenshots</a></li>
<li><a href='downloads.html'>Downloads</a></li>
<li><a href='issue_tracking.html'>Issue Tracking</a></li>
<li class='active'>Documentation
<ul class=menu_level2>
<li><a href='#install'>Install</a></li>
<li><a href='#usage'>Usage</a></li>
<li><a href='#directories-layout'>Directories Layout</a></li>
<li><a href='#create-repo-and-project'>Create repo and project</a></li>
<li><a href='#customize-the-html-pages'>Customize the HTML pages</a></li>
<li><a href='#customize-the-logo'>Customize the logo</a></li>
<li><a href='#the-sm-variables'>The SM variables</a></li>
<li><a href='#faq'>FAQ</a></li>
</ul>
</li>
<li><a href='news.html'>News</a></li>
<li><a href='developers.html'>Developers' Corner</a></li>
</ul>
</aside>
<div class='contents'>
<h1 id="documentation">Documentation</h1>
<h2 id="install">Install</h2>
<h3 id="windows-platform">Windows Platform</h3>
<ul>
<li>Download <a href="downloads/smit-win32-1.1.1.zip">smit-win32-1.1.1.zip</a></li>
<li>Unzip <code>smit-win32-1.1.1.zip</code></li>
<li><code>smit.exe</code> is ready to use</li>
</ul>
<h3 id="linux">Linux</h3>
<p>Requirements:</p>
<ul>
<li>libcrypto (provided by OpenSSL for instance)</li>
</ul>
<p>Installation instructions:</p>
<pre><code>git clone http://github.com/goeb/smit
cd smit
make</code></pre>
<p>And copy the compiled executable <code>smit</code> to somewhere in your PATH (for example $HOME/bin).</p>
<h2 id="usage">Usage</h2>
<pre><code>Usage: smit [--version] [--help]
            &lt;command&gt; [&lt;args&gt;]

Commands:

    init [&lt;directory&gt;]
        Initialize a repository in an existing empty directory. A repository
        is a directory where the projects are stored.

    addproject &lt;project-name&gt; [-d &lt;repository&gt;]
        Add a new project, with a default structure. The structure
        may be modified online by an admin user.

    adduser &lt;user-name&gt; [--passwd &lt;password&gt;] [--project &lt;project-name&gt; &lt;role&gt;]
                        [--superadmin] [-d &lt;repository&gt;]
        Add a user on one or several projects.
        The role must be one of: admin, rw, ro, ref.
        --project options are cumulative with previously defined projects roles
        for the same user.

    serve [&lt;repository&gt;] [--listen-port &lt;port&gt;] [--ssl-cert &lt;certificate&gt;]
        Default listening port is 8090.
        The --ssl-cert option forces use of HTTPS.
        &lt;certificate&gt; must be a PEM certificate, including public and private key.

    --version
    --help

When a repository is not specified, the current working directory is assumed.

Roles:
    superadmin  able to create projects and manage users
    admin       able to modify an existing project
    rw          able to add and modify issues
    ro          able to read issues
    ref         may not access a project, but may be referenced</code></pre>
<h2 id="directories-layout">Directories Layout</h2>
<p>Each instance of Smit serves one repository (also refered below as <code>$REPO</code>).</p>
<p>The Directories layout is typically:</p>
<pre><code>$REPO
├── project-A
│   └── html
│
├── project-B
│   └── html
│
├── project-C
│   └── html
│
└── public</code></pre>
<h2 id="create-repo-and-project">Create repo and project</h2>
<pre><code>mkdir myrepo
smit init myrepo
smit addproject -d myrepo myproject1
smit adduser homer -d myrepo --superadmin --passwd homer --project myproject1 admin
smit serve myrepo --listen-port 9090</code></pre>
<p>And with your browser, go to: <a href="http://localhost:9090">http://localhost:9090</a></p>
<p>Note that on Windows the scripts <code>bin/init.bat</code> and <code>start.bat</code> help perform these steps, but you still may want to customize the repository name and admin user name.</p>
<h2 id="customize-the-html-pages">Customize the HTML pages</h2>
<p>Feel free to customize the HTML and CSS. These files are in <code>$REPO/public</code>:</p>
<pre><code>signin.html
issue.html
issues.html
project.html
user.html
view.html
views.html
newIssue.html
projects.html
style.css</code></pre>
<h2 id="customize-the-logo">Customize the logo</h2>
<p>Modifiy the <code>$REPO/public/logo.png</code> according to yours needs.</p>
<h2 id="the-sm-variables">The SM variables</h2>
<p>In order to let a maximum customization freedom, Smit let the user define the global structure of the HTML pages, and inserts the dynamic contents at users's defined places, indicated by SM variables:</p>
<pre><code>SM_DIV_ISSUE
SM_DIV_ISSUE_FORM
SM_DIV_ISSUE_MSG_PREVIEW
SM_DIV_ISSUES
SM_DIV_ISSUE_SUMMARY
SM_DIV_NAVIGATION_GLOBAL
SM_DIV_NAVIGATION_ISSUES
SM_DIV_PREDEFINED_VIEWS
SM_DIV_PROJECTS
SM_DIV_USERS
SM_HTML_PROJECT_NAME
SM_RAW_ISSUE_ID
SM_SCRIPT_PROJECT_CONFIG_UPDATE
SM_URL_PROJECT_NAME</code></pre>
<p>Some variables make sense only in some particular context. For instance, <code>SM_RAW_ISSUE_ID</code> makes sense only when a single issue is displayed.</p>
<h2 id="faq">FAQ</h2>
<h3 id="why-cannot-i-create-a-project-named-public">Why cannot I create a project named 'public'?</h3>
<p><code>public</code> is reserved for storing HTML pages that are public, such as the signin page.</p>
<p>The reserve keywords that cannot be used as project names are:</p>
<pre><code>public
sm
users</code></pre>
<h3 id="how-to-set-up-different-pages-for-two-projects">How to set up different pages for two projects?</h3>
<p>HTML pages are first looked after in <code>$REPO/&lt;project&gt;/html/.</code> and, if not present, Smit looks in the <code>$REPO/public</code> directory.</p>
<p>So, for example, if you want to customize the 'issues' page for a project:</p>
<ul>
<li>copy <code>$REPO/public/issues.html</code> to <code>$REPO/&lt;project&gt;/html/issues.html</code></li>
<li>edit <code>$REPO/&lt;project&gt;/html/issues.html</code> to suit your needs</li>
</ul>
</div>
        </div> <!-- div class page -->
        <div class="footer">
            Copyright &copy; 2014, Frédéric Hoerni<br>
            Page updated on 27 Jan 2014
        </div>
    </body>
</html>
